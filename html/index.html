<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>10ì¡° ìê¸°ì†Œê°œ</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="../css/index.css" type="text/css">
  <script src="../apiKey.js"></script>
  <script type="module">
    // Firebase SDK ë¼ì´ë¸ŒëŸ¬ë¦¬ ê°€ì ¸ì˜¤ê¸°
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { collection, addDoc } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";
    import { getDocs } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore.js";

    // Firebase êµ¬ì„± ì •ë³´ ì„¤ì •
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyDOY4CzOpoS-NdlwR7R5e1W-uecDQ0WaV0",
      authDomain: "jeongwaja-4920a.firebaseapp.com",
      projectId: "jeongwaja-4920a",
      storageBucket: "jeongwaja-4920a.firebasestorage.app",
      messagingSenderId: "197592185000",
      appId: "1:197592185000:web:1a7d18d31bbc7bf1d8aa9d",
      measurementId: "G-FBPBL2KLMJ"
    };

    // Firebase ì¸ìŠ¤í„´ìŠ¤ ì´ˆê¸°í™”
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    $('#saveBtn').click(async function (event) {
      event.preventDefault(); // ê¸°ë³¸ ë™ì‘ ë°©ì§€
      let username = $('#username').val();
      let comment = $('#comment').val();

      if (username && comment) {
        try {
          let doc = {
            'username': username,
            'comment': comment
          };
          await addDoc(collection(db, "guestbook"), doc);

          alert('ì €ì¥ ì™„ë£Œ!');

          window.location.reload(); // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
        } catch (error) {
          console.error("Error adding document: ", error);
          alert('ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
        }
      } else {
        alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      }
    });

    let data = await getDocs(collection(db, "guestbook"));
    data.forEach(doc => {
      let row = doc.data();

      let username = row['username'];
      let comment = row['comment'];

      let tempHtml = `<p><strong>${username}:</strong> ${comment}</p>`

      $('.comment-list').append(tempHtml);
    });

    $('#yongjunDetailBtn').click(async function () {
      window.location.href = "./detail/yongjun.html";
    })

    $('#hyewonDetailBtn').click(async function () {
      window.location.href = "./detail/hyewon.html";
    })

    $('#yunheeDetailBtn').click(async function () {
      window.location.href = "./detail/yunhee.html";
    })

    $('#seonghoDetailBtn').click(async function () {
      window.location.href = "./detail/seongho.html";
    })

    $('#sanghyeonDetailBtn').click(async function () {
      window.location.href = "./detail/sanghyeon.html";
    })
  </script>
</head>

<body>
  <!-- í—¤ë” -->
  <div id="header" class="header"></div>

  <!-- ë©”ì¸ -->
  <div class="container">
    <div class="content-section">
      <!-- ë²„íŠ¼ -->
      <div class="buttons">
        <button id="homeButton" class="btn btn-primary">ë©”ì¸</button>
        <button id="teamButton" class="btn btn-secondary">íŒ€ì› ì†Œê°œ</button>
        <button id="guestbookButton" class="btn btn-secondary">ë°©ëª…ë¡</button>
      </div>

      <!-- ë©”ì¸ ì„¹ì…˜ -->
      <div class="mainSection" id="mainSection">
        <div class="project-intro">
          <img src="https://i.pinimg.com/474x/4a/60/a9/4a60a95017b5e5f42082ac8221cae5b4.jpg" alt="">
          <h2>í”„ë¡œì íŠ¸ ì†Œê°œ</h2>
          <p>íŒ€ ì „ì²´ì˜ ì†Œê°œì™€ ê°ê°ì˜ íŒ€ì›ì˜ ê°œì„±ì´ ë‹´ê¸´ ìê¸°ì†Œê°œ ì›¹ í˜ì´ì§€ ì…ë‹ˆë‹¤.</p>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="box role-box">
              <h3>ì—­í•  ë¶„ë‹´</h3>
              <p>&#128102; ë°•ìš©ì¤€(íŒ€ì¥) : ë°©ëª…ë¡ DB êµ¬ì„±, UI ì»¨íŠ¸ë¡¤ ì—°ê²°
                <br>&#128103; í•œìœ¤í¬ : ë©”ì¸í˜ì´ì§€ HTML
                <br>&#128103; ë¯¼í˜œì› : ë©”ì¸í˜ì´ì§€ CSS
                <br>&#128102; ë°•ì„±í˜¸ : ê¸°ëŠ¥ ì‹œì—° ì˜ìƒ
                <br>&#128102; ë°•ìƒí˜„ : ê¸°ëŠ¥ ì‹œì—° ì˜ìƒ
                <br>âœ” ê³µí†µ ì‘ì—… : ê° ê°œì¸ í˜ì´ì§€ ì œì‘ ë° ë””ìì¸
                <br>âœ” ë°œí‘œì :
              </p>
              <hr>
              <h3>ì‚¬ìš© ê¸°ìˆ </h3>
              <p>âœ” Tool : GitHub, Visual Studio code<br>
                âœ” HTML:5, CSS, JavaScript, BootStrap<br>
                âœ” Firestore Database<br>
                âœ” ì´¬ì˜ë„êµ¬<br>
                âœ” ë°œí‘œìë£Œ</p>
            </div>
          </div>
          <div class="col-md-6">
            <div class="box team-box">
              <h3>íŒ€ ê·œì¹™</h3>
              <p>1. ì‹œê°„ ì•½ì†ì„ ì² ì €íˆ ì§€í‚¤ê² ìŠµë‹ˆë‹¤.<br>
                2. ì†Œí†µì„ ì¤‘ìš”ì‹œí•˜ë©° ìë¦¬ ë¹„ì›€ì´ë‚˜ ë¬¸ì œê°€ ìƒê¸°ë©´ ë¹ ë¥´ê²Œ ê³µìœ í•˜ê² ìŠµë‹ˆë‹¤.<br>
                3. ì‹¤ìˆ˜ë‚˜ ë¬¸ì œê°€ ìˆì–´ë„ ë‚¨ íƒ“í•˜ì§€ë§ê³  ë¬¸ì œë¥¼ í•´ê²°í•´ë‚˜ê°€ëŠ”ë° ì§‘ì¤‘í•˜ê² ìŠµë‹ˆë‹¤.<br>
                4. ëŒ€í™”ë¥¼ í•  ë•ŒëŠ” ìº ë„ ì¼œê³  í™”ë©´ê³µìœ ë„ ì˜ í•˜ê² ìŠµë‹ˆë‹¤. <br>
                5. íŒŒì´íŒ…í•˜ê² ìŠµë‹ˆë‹¤!</p>
              <hr>
              <h3>íŒ€ ëª©í‘œ</h3>
              <p>1. ë§¤ì¼ ì¼ì • ì†Œí™”í•˜ê¸°<br>
                2. ë¶€ë„ëŸ¬ì›Œë„ ë¬¼ì–´ë³´ê¸°<br>
                3. ì´ë²ˆ í”„ë¡œì íŠ¸ í¬íŠ¸í´ë¦¬ì˜¤ë¡œ ì‚¬ìš©í•˜ê¸°<br>
                4. TIL ë‚¨ì€ë‚ ê¹Œì§€ ë§¨ë‚  ì“°ê¸° ğŸ“<br>
                5. 1ì¼ 1TIL, 1ì•Œê³ ë¦¬ì¦˜</p>
            </div>
          </div>
        </div>
      </div>

      <!-- íŒ€ì› ì†Œê°œ -->
      <div class="team-intro" id="teamIntro">
        <!-- ë°•ìš©ì¤€ -->
        <div class="profile-box">
          <div class="profile left">
            <img src="../images/yongjun/yongjun-index.jpg" alt="Member Photo">
            <div class="profile-info">
              <h4>ë°•ìš©ì¤€</h4>
              <p> 2001.09.21<br>ğŸŒ± ì„œìš¸ ì€í‰êµ¬<br>ğŸ’¬ "ì—¬ëŸ¬ë¶„ ëª¨ë‘ ë²„ê·¸ì—†ëŠ” í•˜ë£¨ ë³´ë‚´ì„¸ìš”!"</p>
              <button id="yongjunDetailBtn" class="btn btn-sm btn-primary">More</button>
            </div>
          </div>
        </div>

        <!-- ë¯¼í˜œì› -->
        <div class="profile-box">
          <div class="profile right">
            <img src="../images/hyewon/won_main.jpg" alt="Member Photo">
            <div class="profile-info">
              <h4>ë¯¼í˜œì›</h4>
              <p>2000.07.17<br>ğŸŒ± ê²½ê¸° í™”ì„±ì‹œ<br>ğŸ’¬ "ë‚˜ëŠ” ë¬¸ì–´"</p>
              <button id="hyewonDetailBtn" class="btn btn-sm btn-primary">More</button>
            </div>
          </div>
        </div>

        <!-- ìœ¤í¬ë‹˜ -->
        <div class="profile-box">
          <div class="profile left">
            <img src="../images/yunhee/YunHee.jpg" alt="Member Photo">
            <div class="profile-info">
              <h4>í•œìœ¤í¬</h4>
              <p>23ì„¸<br>ğŸŒ± ì›ì£¼ì‹œ<br>ğŸ’¬ "í™”ì´íŒ…!"</p>
              <button id="yunheeDetailBtn" class="btn btn-sm btn-primary">More</button>
            </div>
          </div>
        </div>

        <!-- ì„±í˜¸ë‹˜ -->
        <div class="profile-box">
          <div class="profile right">
            <img src="../images/seongho/seongho.jpg" alt="Member Photo">
            <div class="profile-info">
              <h4>ë°•ì„±í˜¸</h4>
              <p>1997.03.05<br>ğŸŒ± ê²½ìƒë¶ë„ ê²½ì‚°ì‹œ<br>ğŸ’¬ "ë‹¤ë“¤ í™”ì´íŒ…í•©ì‹œë‹¤!"</p>
              <button id="seonghoDetailBtn" class="btn btn-sm btn-primary">More</button>
            </div>
          </div>
        </div>

        <!-- ìƒí˜„ë‹˜ -->
        <div class="profile-box">
          <div class="profile left">
            <img src="https://via.placeholder.com/80" alt="Member Photo">
            <div class="profile-info">
              <h5>ë°•ìƒí˜„</h5>
              <p>ë‚˜ì´ : <br>ğŸŒ± ê±°ì£¼ì§€ : <br>ğŸ’¬ í•œë§ˆë”” :</p>
              <button id="sanghyeonDetailBtn" class="btn btn-sm btn-primary">More</button>
            </div>
          </div>
        </div>
      </div>

      <!-- ë°©ëª…ë¡ -->
      <div class="guestbook" id="guestbook">
        <form>
          <input id="username" type="text" class="form-control" placeholder="username" autocomplete="off">
          <textarea id="comment" class="form-control" rows="1" placeholder="comment" autocomplete="off"></textarea>
          <button id="saveBtn" class="btn btn-sm">Send</button>
        </form>
        <div class="comment-list">

        </div>
      </div>
    </div>
  </div>

  <!-- footer -->
  <div id="footer" class="footer"></div>
</body>
<script>
  const homeButton = document.getElementById("homeButton");
  const teamButton = document.getElementById("teamButton");
  const guestbookButton = document.getElementById("guestbookButton");

  const mainSection = document.getElementById("mainSection");
  const teamIntro = document.getElementById("teamIntro");
  const guestbook = document.getElementById("guestbook");

  homeButton.addEventListener("click", () => {
    mainSection.style.display = "block";
    teamIntro.style.display = "none";
    guestbook.style.display = "none";
  });

  teamButton.addEventListener("click", () => {
    mainSection.style.display = "none";
    teamIntro.style.display = "block";
    guestbook.style.display = "none";
  });

  guestbookButton.addEventListener("click", () => {
    mainSection.style.display = "none";
    teamIntro.style.display = "none";
    guestbook.style.display = "block";
  });

  $(function () {
    $('#header').load("./header.html");
    $('#footer').load("./footer.html");
  });
</script>

</html>